# GOMFLOW Telegram Bot Service Configuration

# Service Configuration
PORT=3002
NODE_ENV=development
SERVICE_SECRET=your_random_service_secret

# Database (Supabase)
SUPABASE_URL=your_supabase_project_url
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Redis Configuration
REDIS_URL=redis://localhost:6379

# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_WEBHOOK_URL=https://your-domain.com/api/telegram/webhook
TELEGRAM_WEBHOOK_SECRET=your_random_webhook_secret

# Service URLs for communication (Development)
CORE_API_URL=http://localhost:3000
PAYMENT_SERVICE_URL=http://localhost:3004
SMART_AGENT_SERVICE_URL=http://localhost:3005
WHATSAPP_SERVICE_URL=http://localhost:3001
DISCORD_SERVICE_URL=http://localhost:3003

# Production Service URLs (use these for production deployment)
# CORE_API_URL=https://gomflow-core.vercel.app
# PAYMENT_SERVICE_URL=https://gomflow-payments.railway.app
# SMART_AGENT_SERVICE_URL=https://gomflow-smart-agent.railway.app
# WHATSAPP_SERVICE_URL=https://gomflow-whatsapp.railway.app
# DISCORD_SERVICE_URL=https://gomflow-discord.railway.app

# File Upload Configuration
MAX_FILE_SIZE=20971520
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp
TEMP_UPLOAD_DIR=temp

# Bot Features
ENABLE_INLINE_PAYMENTS=true
ENABLE_SMART_PAYMENT_DETECTION=true
AUTO_DELETE_PROCESSED_IMAGES=true
IMAGE_RETENTION_HOURS=24

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_MESSAGES=30
RATE_LIMIT_MAX_UPLOADS=5

# Security
CORS_ORIGIN=http://localhost:3000
WEBHOOK_IP_WHITELIST=149.154.160.0/20,91.108.4.0/22

# Logging
LOG_LEVEL=info
LOG_FILE=logs/telegram-service.log

# Queue Configuration
QUEUE_CONCURRENCY=5
MESSAGE_QUEUE_NAME=telegram-messages
NOTIFICATION_QUEUE_NAME=telegram-notifications

# Bot Behavior
DEFAULT_LANGUAGE=en
COMMAND_TIMEOUT_MS=30000
SESSION_TIMEOUT_MINUTES=30
MAX_CONCURRENT_SESSIONS=100